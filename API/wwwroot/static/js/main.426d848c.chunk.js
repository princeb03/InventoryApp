(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{191:function(e,t,n){},194:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return He}));var r=n(0),a=n.n(r),o=n(46),c=n.n(o),i=(n(191),n(192),n(193),n(16)),s=n(19),l=n(237),u=(n(194),n(14)),d=n(13),j=n(15),b=n(243),h=n(146),p=n(240),g=n(169),m=n(249),O=n(250),f=n(170),x=n(147),v=n(11),y=n.n(v),S=n(18),w=n(37),C=n(76),k=n(9),I=n(45),P=n.n(I),A=function e(t,n){Object(w.a)(this,e),this.data=void 0,this.pagination=void 0,this.data=t,this.pagination=n},N=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;Object(w.a)(this,e),this.pageSize=void 0,this.pageNumber=void 0,this.pageNumber=t,this.pageSize=n};P.a.defaults.baseURL="/api";P.a.interceptors.request.use((function(e){var t=localStorage.getItem("inventoryToken");return t&&(e.headers={Authorization:"Bearer ".concat(t)}),e})),P.a.interceptors.response.use(function(){var e=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!(n=t.headers.pagination)){e.next=7;break}return t.data=new A(t.data,JSON.parse(n)),e.abrupt("return",t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data,r=t.status,a=t.statusText;if(n)if(n.hasOwnProperty("errors"))s.c.error(n.title);else if(500===r)s.c.error(n.message);else s.c.error(n);else s.c.error(a);return Promise.reject(e)}));var U=function(e){return e.data},M=function(e){return P.a.get(e).then(U)},T=function(e,t){return P.a.post(e,t).then(U)},z=function(e,t){return P.a.put(e,t).then(U)},E=function(e){return P.a.delete(e).then(U)},F={Inventory:{getAll:function(e){return P.a.get("/inventory",{params:e}).then(U)},get:function(e){return M("/inventory/".concat(e))},create:function(e){return T("/inventory",e)},update:function(e){return z("/inventory/".concat(e.id),e)},uploadPhoto:function(e,t){var n=new FormData;return n.append("File",e),P.a.post("/photos/".concat(t),n,{headers:{"Content-type":"multipart/form-data"}})},setMainPhoto:function(e,t){return T("/photos/".concat(e,"/").concat(t,"/setMain"),{})},deletePhoto:function(e,t){return E("/photos/".concat(e,"/").concat(t))}},Accounts:{login:function(e){return T("/accounts/login",e)},register:function(e){return T("/accounts/register",e)},getCurrent:function(){return M("/accounts/current")},getAll:function(e){return P.a.get("/accounts",{params:e}).then(U)},update:function(e,t){return z("/accounts/".concat(t),e)}},Orders:{createOrder:function(e){return T("/orders",e)},getAll:function(){return M("/orders")},toggleOrder:function(e){return z("/orders/".concat(e,"/complete"),{})},getOrder:function(e){return M("/orders/".concat(e))},editNotes:function(e,t){return z("/orders/".concat(e,"/notes"),{notes:t})}},Profiles:{getProfile:function(e,t){return P.a.get("/profiles/".concat(e),{params:t}).then(U)}}},D=function(){function e(){var t=this;Object(w.a)(this,e),this.inventoryRegistry=new Map,this.currentItem=null,this.loadingInitial=!0,this.loading=!1,this.uploading=!1,this.pagination=null,this.pagingParams=new N,this.searchString="",this.resetStore=function(){t.inventoryRegistry.clear(),t.pagination=null,t.pagingParams=new N,t.searchString=""},this.setPagingParams=function(e){t.pagingParams=e},this.setSearchString=function(e){t.searchString=e},this.getAll=Object(S.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingInitial=!0,e.prev=1,e.next=4,F.Inventory.getAll(t.axiosParams);case 4:n=e.sent,Object(k.h)((function(){n.data.forEach((function(e){t.inventoryRegistry.set(e.id,e)})),t.pagination=n.pagination,t.loadingInitial=!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t.loadingInitial=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),this.createNew=function(){var e=Object(S.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,F.Inventory.create(n);case 4:r=e.sent,Object(k.h)((function(){t.loading=!1})),He.push("/items/".concat(r)),G.modalStore.closeModal(),s.c.info("New Item Added",{autoClose:1e3}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),this.updateItem=function(){var e=Object(S.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,r=t.currentItem.id,e.prev=2,e.next=5,F.Inventory.update(n);case 5:Object(k.h)((function(){t.loading=!1,G.modalStore.closeModal(),t.getDetails(r)})),s.c.info("Item Updated",{autoClose:1e3}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),this.getDetails=function(){var e=Object(S.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loadingInitial=!0,e.next=4,F.Inventory.get(n);case 4:r=e.sent,Object(k.h)((function(){t.currentItem=r,t.loadingInitial=!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t.loadingInitial=!1;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.uploadPhoto=function(){var e=Object(S.a)(y.a.mark((function e(n,r){var a,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.uploading=!0,e.prev=1,e.next=4,F.Inventory.uploadPhoto(n,r);case 4:a=e.sent,o=a.data,Object(k.h)((function(){var e;t.currentItem&&(null===(e=t.currentItem.photos)||void 0===e||e.push(o),o.isMain&&(t.currentItem.mainPhoto=o.url));t.uploading=!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t.uploading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),this.setMainPhoto=function(){var e=Object(S.a)(y.a.mark((function e(n,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,F.Inventory.setMainPhoto(n,r.id);case 4:Object(k.h)((function(){var e;t.currentItem&&(null===(e=t.currentItem)||void 0===e?void 0:e.photos)&&(t.currentItem.photos.find((function(e){return e.isMain})).isMain=!1,t.currentItem.photos.find((function(e){return e.id===r.id})).isMain=!0,t.currentItem.mainPhoto=r.url,t.loading=!1)})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.deletePhoto=function(){var e=Object(S.a)(y.a.mark((function e(n,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,F.Inventory.deletePhoto(n,r.id);case 4:Object(k.h)((function(){t.currentItem&&t.currentItem.photos&&(t.currentItem.photos=t.currentItem.photos.filter((function(e){return e.id!==r.id}))),t.loading=!1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Object(k.d)(this),Object(k.g)((function(){return t.searchString}),(function(){t.pagingParams=new N,t.inventoryRegistry.clear(),t.getAll()}))}return Object(C.a)(e,[{key:"axiosParams",get:function(){var e=new URLSearchParams;return e.append("pageNumber",this.pagingParams.pageNumber.toString()),e.append("pageSize",this.pagingParams.pageSize.toString()),e.append("searchString",this.searchString),e}},{key:"inventoryItems",get:function(){return Array.from(this.inventoryRegistry.values()).sort((function(e,t){return e.itemName.localeCompare(t.itemName)}))}}]),e}(),R=n(164),L=n(238),q=function(){function e(){var t=this;Object(w.a)(this,e),this.loading=!1,this.profileUser=null,this.orderRegistry=new Map,this.profiles=[],this.pagination=null,this.pagingParams=new N(1,4),this.orderFilters=(new Map).set("all",!0),this.resetStore=function(){t.pagingParams=new N(1,4),t.orderRegistry.clear(),t.profileUser=null,t.orderFilters.clear(),t.orderFilters.set("all",!0)},this.setOrderFilter=function(e){var n=function(){return t.orderFilters.clear()};switch(e){case"all":n(),t.orderFilters.set("all",!0);break;case"isCompleted":n(),t.orderFilters.set("isCompleted",!0);break;case"isInUse":n(),t.orderFilters.set("isInUse",!0)}},this.setPagingParams=function(e){t.pagingParams=e},this.getProfile=function(){var e=Object(S.a)(y.a.mark((function e(n){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,F.Profiles.getProfile(n,t.axiosParams);case 4:r=e.sent,a=r.data,Object(k.h)((function(){t.profileUser={displayName:a.displayName,username:a.username,email:a.email},t.pagination=r.pagination,a.orders.forEach((function(e){e.orderCompletedAt=Object(L.a)(new Date(e.orderCompletedAt),"dd MMM yyyy EEEE, p"),e.orderCreatedAt=Object(L.a)(new Date(e.orderCreatedAt),"dd MMM yyyy EEEE, p"),t.orderRegistry.set(e.id,e)})),t.loading=!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),Object(k.h)((function(){t.loading=!1}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),this.updateUser=function(){var e=Object(S.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,n.password="placeholder",e.next=5,F.Accounts.update(n,t.profileUser.username);case 5:r=e.sent,Object(k.h)((function(){t.loading=!1})),He.push("/profiles/".concat(r)),G.modalStore.closeModal(),s.c.info("User updated",{autoClose:1e3}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Object(k.d)(this),Object(k.g)((function(){return t.orderFilters.keys()}),(function(){t.pagingParams=new N(1,4),t.orderRegistry.clear(),t.getProfile(t.profileUser.username)}))}return Object(C.a)(e,[{key:"axiosParams",get:function(){var e=new URLSearchParams;return e.append("pageNumber",this.pagingParams.pageNumber.toString()),e.append("pageSize",this.pagingParams.pageSize.toString()),this.orderFilters.forEach((function(t,n){e.append(n,t)})),e}},{key:"profileOrders",get:function(){return Array.from(this.orderRegistry.values()).sort((function(e,t){return new Date(t.orderCreatedAt).getTime()-new Date(e.orderCreatedAt).getTime()}))}}]),e}(),B=function(){function e(){var t=this;Object(w.a)(this,e),this.currentUser=null,this.userRegistry=new Map,this.pagination=null,this.pagingParams=new N,this.loadingInitial=!0,this.loading=!1,this.searchString="",this.setPagingParams=function(e){t.pagingParams=e},this.setSearchString=function(e){t.searchString=e},this.login=function(){var e=Object(S.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,F.Accounts.login(n);case 4:r=e.sent,Object(k.h)((function(){t.currentUser=r,t.loading=!1,localStorage.setItem("inventoryToken",t.currentUser.token),He.push("/dashboard"),G.modalStore.closeModal()})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.register=function(){var e=Object(S.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,F.Accounts.register(n);case 4:Object(k.h)((function(){t.loading=!1})),He.push("/dashboard"),G.modalStore.closeModal(),s.c.info("New User Created",{autoClose:1e3}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),this.resetStore=function(){t.userRegistry.clear(),t.pagination=null,t.pagingParams=new N,t.searchString=""},this.logout=function(){t.currentUser=null,localStorage.removeItem("inventoryToken"),G.orderStore.resetCart(),G.inventoryStore.resetStore(),t.resetStore(),He.push("/")},this.getCurrentUser=Object(S.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.Accounts.getCurrent();case 3:n=e.sent,Object(k.h)((function(){t.currentUser=n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.getAllUsers=Object(S.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingInitial=!0,e.prev=1,e.next=4,F.Accounts.getAll(t.axiosParams);case 4:n=e.sent,Object(k.h)((function(){n.data.forEach((function(e){t.userRegistry.set(e.username,e)})),t.pagination=n.pagination,t.loadingInitial=!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t.loadingInitial=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),Object(k.d)(this),Object(k.g)((function(){return t.searchString}),(function(){t.pagingParams=new N,t.userRegistry.clear(),t.getAllUsers()}))}return Object(C.a)(e,[{key:"isLoggedIn",get:function(){return!!this.currentUser}},{key:"axiosParams",get:function(){var e=new URLSearchParams;return e.append("pageNumber",this.pagingParams.pageNumber.toString()),e.append("pageSize",this.pagingParams.pageSize.toString()),e.append("searchString",this.searchString),e}},{key:"userList",get:function(){return Array.from(this.userRegistry.values())}}]),e}(),G={userStore:new B,inventoryStore:new D,orderStore:new function e(){var t=this;Object(w.a)(this,e),this.cart=[],this.loadingInitial=!1,this.loading=!1,this.currentOrder=null,this.addToCart=function(e){var n,r=Object(R.a)(t.cart);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.product.id===e.product.id)return a.quantity+=e.quantity,void t.saveCartToStorage()}}catch(o){r.e(o)}finally{r.f()}t.cart.push(e),t.saveCartToStorage()},this.removeFromCart=function(e){t.cart.splice(e,1),t.saveCartToStorage()},this.placeOrder=function(){var e=Object(S.a)(y.a.mark((function e(n){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,r=t.cart.map((function(e){return t.mapItemToApi(e)})),a={orderItems:r,notes:n},e.prev=3,e.next=6,F.Orders.createOrder(a);case 6:Object(k.h)((function(){t.loading=!1,t.resetCart()})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0),t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),this.getOrder=function(){var e=Object(S.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loadingInitial=!0,e.next=4,F.Orders.getOrder(n);case 4:(r=e.sent).orderCreatedAt=Object(L.a)(new Date(r.orderCreatedAt),"dd MMM yyyy EEEE, p"),r.orderCompletedAt=Object(L.a)(new Date(r.orderCompletedAt),"dd MMM yyyy EEEE, p"),Object(k.h)((function(){t.currentOrder=r,t.loadingInitial=!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t.loadingInitial=!1;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.mapItemToApi=function(e){return{product:e.product.id,quantity:e.quantity}},this.saveCartToStorage=function(){var e=JSON.stringify(t.cart);localStorage.setItem("ssInventoryCart",e)},this.resetCart=function(){t.cart=[],localStorage.removeItem("ssInventoryCart")},this.setCart=function(){var e=localStorage.getItem("ssInventoryCart");e&&(t.cart=JSON.parse(e))},this.editNotes=function(){var e=Object(S.a)(y.a.mark((function e(n,r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,F.Orders.editNotes(n,r);case 4:Object(k.h)((function(){t.getOrder(n),t.loading=!1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),t.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.toggleOrder=function(){var e=Object(S.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,F.Orders.toggleOrder(n);case 4:Object(k.h)((function(){t.getOrder(n),t.loading=!1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Object(k.d)(this)},profileStore:new q,modalStore:new function e(){var t=this;Object(w.a)(this,e),this.modal={open:!1,body:null},this.openModal=function(e){t.modal.open=!0,t.modal.body=e},this.closeModal=function(){t.modal.open=!1,t.modal.body=null},Object(k.d)(this)}},H=Object(r.createContext)(G),J=function(){return Object(r.useContext)(H)},W=n(1),Q=Object(d.a)((function(){var e=J().orderStore,t=e.cart,n=e.removeFromCart,a=e.placeOrder,o=e.setCart,c=e.loading,i=Object(r.useState)(""),l=Object(u.a)(i,2),d=l[0],v=l[1];return Object(r.useEffect)((function(){o()}),[o]),Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(b.a,{as:"h1",content:"My Cart"}),0===t.length?Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(b.a,{as:"h3",content:"No items in your cart."}),Object(W.jsx)(h.a,{as:j.a,to:"/dashboard",size:"huge",content:"Back to Items",color:"facebook"})]}):Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(h.a,{as:j.a,to:"/dashboard",size:"medium",content:"Back to Items",color:"grey",icon:"arrow circle left"}),Object(W.jsx)(b.a,{as:"h2",content:"Notes"}),Object(W.jsx)(p.a,{children:Object(W.jsx)(p.a.TextArea,{name:"notes",value:d,onChange:function(e){v(e.currentTarget.value)},placeholder:"Add any order notes here..."})}),Object(W.jsx)(b.a,{as:"h2",content:"Items"}),Object(W.jsx)(g.a,{children:t.map((function(e,t){return Object(W.jsx)(m.a,{children:Object(W.jsxs)(O.a,{doubling:!0,stackable:!0,children:[Object(W.jsx)(f.a,{width:2,verticalAlign:"middle",children:Object(W.jsx)(x.a,{as:j.a,to:"/items/".concat(e.product.id),src:e.product.mainPhoto||"/assets/image-placeholder.jpg"})}),Object(W.jsxs)(f.a,{width:5,verticalAlign:"middle",children:[Object(W.jsx)(b.a,{content:e.product.itemName}),Object(W.jsx)("p",{children:e.product.itemDescription})]}),Object(W.jsx)(f.a,{width:5,textAlign:"center",verticalAlign:"middle",children:Object(W.jsx)("p",{children:e.quantity})}),Object(W.jsx)(f.a,{width:4,verticalAlign:"middle",children:Object(W.jsx)(h.a,{floated:"right",content:"Remove from cart",onClick:function(){n(t),s.c.info("Removed from cart.",{autoClose:1500})},negative:!0})})]})},t)}))}),Object(W.jsx)(h.a,{loading:c,size:"huge",content:"Checkout",color:"facebook",onClick:function(){a(d)}})]})]})})),V=n(236),K=n(86),X=n.n(K),Y=n(244);function Z(e){var t=e.inverted,n=void 0===t||t,r=e.content,a=void 0===r?"Loading...":r;return Object(W.jsx)(Y.a,{active:!0,inverted:n,children:Object(W.jsx)(V.a,{children:a})})}var $=n(247),_=n(135),ee=n(121),te=n(122),ne=n(123),re=n(235),ae=Object(d.a)((function(e){var t=e.item,n=Object(r.useState)(0),a=Object(u.a)(n,2),o=a[0],c=a[1],i=J().orderStore.addToCart;return Object(W.jsxs)($.a,{fluid:!0,children:[Object(W.jsx)(x.a,{as:j.a,to:"/items/".concat(t.id),src:t.mainPhoto||"/assets/image-placeholder.jpg"}),Object(W.jsxs)(_.a,{children:[Object(W.jsx)(ee.a,{as:j.a,to:"/items/".concat(t.id),style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.itemName}),Object(W.jsx)(te.a,{children:Object(W.jsx)("p",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.itemDescription?t.itemDescription:"No description for this item."})}),Object(W.jsxs)(ne.a,{children:[Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{style:{color:"green"},children:t.availableStock}),"  Available"]}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:t.totalStock}),"  Total Stock"]})]})]}),Object(W.jsx)(_.a,{extra:!0,children:Object(W.jsx)(p.a,{style:{marginBottom:"-0.9em"},children:Object(W.jsxs)(p.a.Group,{widths:"equal",children:[Object(W.jsx)(p.a.Field,{width:6,children:Object(W.jsx)(re.a,{placeholder:"Amount",type:"number",min:"0",step:"1",name:"quantity",value:o,onChange:function(e){c(e.currentTarget.valueAsNumber)}})}),Object(W.jsx)(p.a.Button,{content:"Add to Cart",color:"facebook",width:10,fluid:!0,style:{height:"100%"},onClick:function(){o>t.availableStock||o<=0||o%1!==0?s.c.error("Invalid quantity.",{autoClose:2e3}):(i({product:t,quantity:o}),s.c.info("".concat(o," ").concat(t.itemName," added to cart."),{autoClose:2e3}))}})]})})})]})})),oe=n(40),ce=n(17),ie=Object(d.a)((function(){var e={itemName:"",itemDescription:"",totalStock:"",availableStock:""},t=Object(r.useState)(e),n=Object(u.a)(t,2),a=n[0],o=n[1],c=J().inventoryStore,i=c.createNew,s=c.loading;function l(e){o(Object(ce.a)(Object(ce.a)({},a),{},Object(oe.a)({},e.currentTarget.name,e.currentTarget.value)))}return Object(W.jsxs)(p.a,{onSubmit:function(){i(a),o(e)},style:{padding:"2em"},children:[Object(W.jsx)(b.a,{as:"h1",content:"Create New Item"}),Object(W.jsx)(p.a.Input,{name:"itemName",value:a.itemName,label:"Name",onChange:l,required:!0}),Object(W.jsx)(p.a.Input,{name:"itemDescription",value:a.itemDescription,label:"Description",onChange:l}),Object(W.jsx)(p.a.Input,{name:"totalStock",value:a.totalStock,label:"Total Stock",onChange:l,required:!0}),Object(W.jsx)(p.a.Input,{name:"availableStock",value:a.availableStock,label:"Available Stock",onChange:l,required:!0}),Object(W.jsx)(h.a,{loading:s,fluid:!0,size:"large",type:"submit",content:"Create Item",color:"facebook"})]})})),se=Object(d.a)((function(){var e,t=J(),n=t.inventoryStore,a=t.userStore,o=t.modalStore,c=n.inventoryItems,i=n.getAll,s=n.loadingInitial,l=n.setPagingParams,d=n.pagination,j=n.resetStore,g=n.setSearchString,m=n.searchString,f=Object(r.useState)(!1),x=Object(u.a)(f,2),v=x[0],y=x[1],S=Object(r.useState)(""),w=Object(u.a)(S,2),C=w[0],k=w[1];return Object(r.useEffect)((function(){j(),i()}),[i,a.currentUser,j]),s&&!v?Object(W.jsx)(Z,{content:"Loading items..."}):Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(b.a,{as:"h1",content:"All Items"}),"admin"===(null===(e=a.currentUser)||void 0===e?void 0:e.role)&&Object(W.jsx)(h.a,{content:"Create new item",color:"facebook",size:"large",style:{marginBottom:"1em"},onClick:function(){return o.openModal(Object(W.jsx)(ie,{}))}}),""!==m&&Object(W.jsx)(h.a,{content:"Back to All",style:{marginBottom:"1em"},icon:"arrow circle left",color:"grey",size:"mini",onClick:function(){k(""),g("")}}),Object(W.jsxs)(O.a,{children:[Object(W.jsx)(O.a.Row,{children:Object(W.jsx)(O.a.Column,{width:16,children:Object(W.jsx)(p.a,{children:Object(W.jsxs)(p.a.Group,{children:[Object(W.jsx)(p.a.Input,{icon:"search",iconPosition:"left",placeholder:"Search by Item Name...",fluid:!0,value:C,onChange:function(e){k(e.currentTarget.value)},width:12}),Object(W.jsx)(p.a.Button,{content:"Search",fluid:!0,color:"facebook",size:"medium",onClick:function(){g(C)},width:4})]})})})}),Object(W.jsx)(O.a.Column,{width:16,children:Object(W.jsx)(X.a,{pageStart:0,loadMore:function(){y(!0),l(new N(d.currentPage+1,null===d||void 0===d?void 0:d.itemsPerPage)),i().then((function(){return y(!1)}))},hasMore:!v&&!!d&&d.currentPage<d.totalPages,initialLoad:!1,children:Object(W.jsx)(O.a,{columns:3,doubling:!0,stackable:!0,children:c.map((function(e){return Object(W.jsx)(O.a.Column,{children:Object(W.jsx)(ae,{item:e})},e.id)}))})})}),Object(W.jsx)(O.a.Column,{width:16,children:Object(W.jsx)(V.a,{active:v,size:"big",style:{marginTop:"1em",marginBottom:"5em"}})})]})]})})),le=n(166),ue=n(171);n(222);function de(e){var t=e.imagePreview,n=e.setCropper;return Object(W.jsx)(ue.a,{src:t,style:{height:200,width:"100%"},initialAspectRatio:1,aspectRatio:1,preview:".img-preview",guides:!1,viewMode:1,autoCropArea:1,background:!1,onInitialized:n})}var je=n(174),be=n(68);function he(e){var t=e.setFiles,n={border:"dashed 3px #eee",borderColor:"#eee",borderRadius:"5px",paddingTop:"30px",textAlign:"center",height:200},a=Object(r.useCallback)((function(e){t(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[t]),o=Object(je.a)({onDrop:a}),c=o.getRootProps,i=o.getInputProps,s=o.isDragActive;return Object(W.jsxs)("div",Object(ce.a)(Object(ce.a)({},c()),{},{style:s?Object(ce.a)(Object(ce.a)({},n),{borderColor:"green"}):n,children:[Object(W.jsx)("input",Object(ce.a)({},i())),Object(W.jsx)(be.a,{name:"upload",size:"huge"}),Object(W.jsx)(b.a,{content:"Drop image here"})]}))}function pe(e){var t=e.loading,n=e.uploadPhoto,a=Object(r.useState)([]),o=Object(u.a)(a,2),c=o[0],i=o[1],s=Object(r.useState)(),l=Object(u.a)(s,2),d=l[0],j=l[1];return Object(r.useEffect)((function(){return function(){c.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[c]),Object(W.jsxs)(O.a,{children:[Object(W.jsxs)(O.a.Column,{width:4,children:[Object(W.jsx)(b.a,{sub:!0,content:"Step 1 - Add Photo"}),Object(W.jsx)(he,{setFiles:i})]}),Object(W.jsx)(O.a.Column,{width:1}),Object(W.jsxs)(O.a.Column,{width:4,children:[Object(W.jsx)(b.a,{sub:!0,content:"Step 2 - Resize Image"}),c&&c.length>0&&Object(W.jsx)(de,{setCropper:j,imagePreview:c[0].preview})]}),Object(W.jsx)(O.a.Column,{width:1}),Object(W.jsxs)(O.a.Column,{width:4,children:[Object(W.jsx)(b.a,{sub:!0,content:"Step 3 - Preview and Upload"}),c&&c.length>0&&Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)("div",{className:"img-preview",style:{minHeight:200,overflow:"hidden"}}),Object(W.jsxs)(le.a,{widths:2,children:[Object(W.jsx)(h.a,{loading:t,onClick:function(){d&&d.getCroppedCanvas().toBlob((function(e){return n(e)}))},positive:!0,icon:"check"}),Object(W.jsx)(h.a,{disabled:t,onClick:function(){return i([])},icon:"close"})]})]})]})]})}var ge=Object(d.a)((function(e){var t=e,n=Object(r.useState)(t),a=Object(u.a)(n,2),o=a[0],c=a[1],i=J().inventoryStore,s=i.updateItem,l=i.loading;function d(e){c(Object(ce.a)(Object(ce.a)({},o),{},Object(oe.a)({},e.currentTarget.name,e.currentTarget.value)))}return Object(W.jsxs)(p.a,{onSubmit:function(){s(o)},style:{padding:"2em"},children:[Object(W.jsx)(b.a,{as:"h1",content:"Edit Item Details"}),Object(W.jsx)(p.a.Input,{name:"itemName",value:o.itemName,label:"Name",onChange:d,required:!0}),Object(W.jsx)(p.a.Input,{name:"itemDescription",value:o.itemDescription,label:"Description",onChange:d}),Object(W.jsx)(p.a.Input,{name:"totalStock",value:o.totalStock,label:"Total Stock",onChange:d,required:!0}),Object(W.jsx)(p.a.Input,{name:"availableStock",value:o.availableStock,label:"Available Stock",onChange:d,required:!0}),Object(W.jsx)(h.a,{loading:l,fluid:!0,size:"large",type:"submit",content:"Update",color:"facebook"})]})})),me=Object(d.a)((function(){var e,t,n=Object(i.h)().id,a=J(),o=a.inventoryStore,c=a.modalStore,s=a.userStore,l=o.getDetails,d=o.currentItem,p=o.loadingInitial,g=o.loading,m=o.setMainPhoto,O=o.deletePhoto,f=o.uploadPhoto,v=o.uploading,y=Object(r.useState)(!1),S=Object(u.a)(y,2),w=S[0],C=S[1],k=Object(r.useState)(""),I=Object(u.a)(k,2),P=I[0],A=I[1];return Object(r.useEffect)((function(){l(n)}),[l,n]),p||null===d?Object(W.jsx)(Z,{content:"Loading Item..."}):Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(x.a,{src:(null===d||void 0===d?void 0:d.mainPhoto)||"/assets/image-placeholder.jpg",floated:"right",size:"medium"}),Object(W.jsx)(h.a,{as:j.a,to:"/dashboard",size:"medium",content:"Back to Items",color:"grey",icon:"arrow circle left"}),Object(W.jsx)(b.a,{as:"h1",content:null===d||void 0===d?void 0:d.itemName}),"admin"===(null===(e=s.currentUser)||void 0===e?void 0:e.role)&&Object(W.jsx)(h.a,{content:"Edit Item Details",color:"facebook",size:"large",style:{marginBottom:"1em"},onClick:function(){return c.openModal(Object(W.jsx)(ge,{id:d.id,itemName:d.itemName,itemDescription:d.itemDescription,totalStock:d.totalStock.toString(),availableStock:d.availableStock.toString()}))}}),Object(W.jsx)("p",{children:(null===d||void 0===d?void 0:d.itemDescription)?d.itemDescription:"No description yet."}),Object(W.jsx)(b.a,{as:"h2",content:"Stock"}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Total: "}),null===d||void 0===d?void 0:d.totalStock]}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Available: "}),null===d||void 0===d?void 0:d.availableStock]}),Object(W.jsx)(b.a,{as:"h2",content:"Photos",style:{display:"inline-block"}}),Object(W.jsx)(h.a,{circular:!0,icon:w?"close":"add",content:w?"Cancel":"Add",onClick:function(){return C(!w)},style:{marginLeft:"1em"},size:"tiny"}),w?Object(W.jsx)(pe,{uploadPhoto:function(e){f(e,d.id).then((function(){return C(!1)}))},loading:v}):d.photos&&0!==d.photos.length?Object(W.jsx)($.a.Group,{itemsPerRow:4,children:null===d||void 0===d||null===(t=d.photos)||void 0===t?void 0:t.map((function(e,t){return Object(W.jsxs)($.a,{children:[Object(W.jsx)(x.a,{src:e.url}),Object(W.jsxs)(le.a,{widths:"4",children:[Object(W.jsx)(h.a,{name:"main"+e.id,onClick:function(t){return function(e,t){A(e.currentTarget.name),m(d.id,t)}(t,e)},content:"Set Main",color:"facebook",disabled:e.isMain,loading:g&&P==="main"+e.id}),Object(W.jsx)(h.a,{icon:"trash",name:"delete"+e.id,color:"google plus",onClick:function(t){return function(e,t){A(e.currentTarget.name),O(d.id,t)}(t,e)},loading:g&&P==="delete"+e.id})]})]},t)}))}):Object(W.jsx)("p",{children:"No photos yet."})]})})),Oe=n(241),fe=Object(d.a)((function(){var e,t=Object(i.h)().orderId,n=J(),a=n.orderStore,o=n.userStore,c=a.getOrder,l=a.currentOrder,d=a.loading,g=a.loadingInitial,m=a.toggleOrder,O=a.editNotes,f=Object(r.useState)(""),v=Object(u.a)(f,2),y=v[0],S=v[1],w=Object(r.useState)(!1),C=Object(u.a)(w,2),k=C[0],I=C[1];return Object(r.useEffect)((function(){c(t),I(!1),S((null===l||void 0===l?void 0:l.notes)?l.notes:"")}),[c,t,null===l||void 0===l?void 0:l.notes]),null===l||g?Object(W.jsx)(Z,{content:"Loading Order Details..."}):Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(b.a,{as:"h1",content:l.id}),Object(W.jsx)(h.a,{as:j.a,to:"/profiles/".concat(null===(e=o.currentUser)||void 0===e?void 0:e.username),size:"medium",content:"Back to Orders",color:"grey",icon:"arrow circle left"}),Object(W.jsx)(b.a,{as:"h2",content:l.orderStatus,color:"Completed"===l.orderStatus?"green":"red"}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Order Placed At: "}),l.orderCreatedAt]}),"Completed"===l.orderStatus?Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Order Completed At: "}),l.orderCompletedAt]}):Object(W.jsx)(h.a,{content:"Complete Order",loading:d,color:"facebook",size:"large",onClick:function(){m(t),s.c.info("Order completed.",{autoClose:1e3})}}),Object(W.jsx)(b.a,{as:"h2",content:"Notes"}),k?Object(W.jsxs)(p.a,{children:[Object(W.jsx)(p.a.TextArea,{placeholder:"Type order notes here...",rows:4,value:y,onChange:function(e){S(e.currentTarget.value)}}),Object(W.jsx)(h.a,{content:"Close",color:"grey",onClick:function(){return I(!1)}}),Object(W.jsx)(h.a,{type:"submit",content:"Submit",color:"facebook",onClick:function(){O(t,y)},loading:d})]}):Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)("p",{children:l.notes}),Object(W.jsx)(h.a,{color:"facebook",content:"Edit Notes",onClick:function(){return I(!0)}})]}),Object(W.jsx)(b.a,{as:"h2",content:"Items"}),Object(W.jsxs)(Oe.a,{size:"large",children:[Object(W.jsx)(Oe.a.Header,{children:Object(W.jsxs)(Oe.a.Row,{children:[Object(W.jsx)(Oe.a.HeaderCell,{width:2}),Object(W.jsx)(Oe.a.HeaderCell,{width:3,children:"Name"}),Object(W.jsx)(Oe.a.HeaderCell,{width:9,children:"Description"}),Object(W.jsx)(Oe.a.HeaderCell,{width:2,textAlign:"center",children:"Quantity"})]})}),Object(W.jsx)(Oe.a.Body,{children:l.orderItems.map((function(e,t){return Object(W.jsxs)(Oe.a.Row,{children:[Object(W.jsx)(Oe.a.Cell,{children:Object(W.jsx)(x.a,{src:e.product.mainPhoto||"/assets/image-placeholder.jpg",size:"tiny"})}),Object(W.jsx)(Oe.a.Cell,{children:Object(W.jsx)(j.a,{to:"/items/".concat(e.product.id),children:e.product.itemName})}),Object(W.jsx)(Oe.a.Cell,{children:e.product.itemDescription}),Object(W.jsx)(Oe.a.Cell,{textAlign:"center",children:e.quantity})]},t)}))})]})]})})),xe=n(96),ve=Object(d.a)((function(e){var t=J().profileStore.updateUser,n={username:e.username,displayName:e.displayName,email:e.email},a=Object(r.useState)(n),o=Object(u.a)(a,2),c=o[0],i=o[1];function s(e){i(Object(ce.a)(Object(ce.a)({},c),{},Object(oe.a)({},e.currentTarget.name,e.currentTarget.value)))}return Object(W.jsxs)(p.a,{onSubmit:function(){t(c),i(n)},style:{padding:"2em"},children:[Object(W.jsx)(b.a,{as:"h1",content:"Edit User Details"}),Object(W.jsx)(p.a.Input,{name:"email",value:c.email,label:"E-mail",onChange:s,required:!0}),Object(W.jsx)(p.a.Input,{name:"displayName",value:c.displayName,label:"Display Name",onChange:s,required:!0}),Object(W.jsx)(p.a.Input,{name:"username",value:c.username,label:"Username",onChange:s,required:!0}),Object(W.jsx)(h.a,{type:"submit",content:"Update",size:"large",color:"facebook",fluid:!0})]})})),ye=n(246),Se=Object(d.a)((function(){var e=J().profileStore,t=e.orderFilters,n=e.setOrderFilter;return Object(W.jsx)(r.Fragment,{children:Object(W.jsxs)(ye.a,{vertical:!0,fluid:!0,children:[Object(W.jsx)(b.a,{icon:"filter",attached:!0,content:"Filters"}),Object(W.jsx)(ye.a.Item,{content:"All Orders",active:t.has("all"),onClick:function(){return n("all")}}),Object(W.jsx)(ye.a.Item,{content:"Completed",active:t.has("isCompleted"),onClick:function(){return n("isCompleted")}}),Object(W.jsx)(ye.a.Item,{content:"In Use",active:t.has("isInUse"),onClick:function(){return n("isInUse")}})]})})})),we=Object(d.a)((function(){var e,t=Object(i.h)().username,n=Object(r.useState)(!1),a=Object(u.a)(n,2),o=a[0],c=a[1],s=J(),l=s.profileStore,d=s.modalStore,p=s.userStore,g=l.getProfile,f=l.profileUser,x=l.profileOrders,v=l.loading,y=l.setPagingParams,S=l.pagination,w=l.resetStore;return Object(r.useEffect)((function(){w(),g(t)}),[g,t,w]),null==f||v&&!o?Object(W.jsx)(Z,{content:"Loading Profile..."}):Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(b.a,{as:"h1",content:f.displayName}),Object(W.jsx)(b.a,{as:"h2",content:"Details"}),Object(W.jsxs)(r.Fragment,{children:[Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"E-mail: "}),f.email]}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Username: "}),f.username]}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Display Name: "}),f.displayName]}),"admin"===(null===(e=p.currentUser)||void 0===e?void 0:e.role)&&Object(W.jsx)(h.a,{content:"Edit Details",color:"facebook",onClick:function(){return d.openModal(Object(W.jsx)(ve,{email:f.email,displayName:f.displayName,username:f.username}))}})]}),Object(W.jsx)(b.a,{as:"h2",content:"My Orders"}),Object(W.jsxs)(O.a,{children:[Object(W.jsx)(O.a.Column,{width:11,children:x.length>=1?Object(W.jsx)(X.a,{pageStart:0,loadMore:function(){c(!0),y(new N(S.currentPage+1,null===S||void 0===S?void 0:S.itemsPerPage)),g(t).then((function(){return c(!1)}))},hasMore:!o&&!!S&&(null===S||void 0===S?void 0:S.currentPage)<(null===S||void 0===S?void 0:S.totalPages),initialLoad:!1,children:Object(W.jsx)(m.a.Group,{children:x.map((function(e,t){return Object(W.jsxs)(m.a,{children:[Object(W.jsx)(b.a,{as:j.a,to:"/orders/".concat(e.id),content:e.id,style:{display:"block",marginBottom:"0.3em"}}),"Completed"===e.orderStatus?Object(W.jsx)(xe.a,{color:"green",content:"Completed",style:{marginBottom:"1em"}}):Object(W.jsx)(xe.a,{color:"red",content:"In Use",style:{marginBottom:"1em"}}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Created at:"})," ",e.orderCreatedAt]}),"Completed"===e.orderStatus&&Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Completed at:"})," ",e.orderCompletedAt]}),Object(W.jsx)(h.a,{as:j.a,to:"/orders/".concat(e.id),color:"facebook",content:"View Order",size:"large",fluid:!0})]},t)}))})}):Object(W.jsx)(b.a,{content:"No orders."})}),Object(W.jsx)(O.a.Column,{width:5,children:Object(W.jsx)(Se,{})}),Object(W.jsx)(O.a.Column,{width:11,children:Object(W.jsx)(V.a,{active:o,inverted:!0,size:"large"})})]})]})})),Ce=Object(d.a)((function(){var e=J().userStore,t=e.login,n=e.loading,a={email:"",password:""},o=Object(r.useState)(a),c=Object(u.a)(o,2),i=c[0],s=c[1];function l(e){s(Object(ce.a)(Object(ce.a)({},i),{},Object(oe.a)({},e.currentTarget.name,e.currentTarget.value)))}return Object(W.jsxs)(p.a,{style:{padding:"2em"},onSubmit:function(){t(i),s(a)},children:[Object(W.jsx)(b.a,{as:"h2",content:"Login"}),Object(W.jsx)(p.a.Input,{name:"email",value:i.email,label:"E-mail",onChange:l,required:!0}),Object(W.jsx)(p.a.Input,{name:"password",type:"password",value:i.password,label:"Password",onChange:l,required:!0}),Object(W.jsx)(h.a,{fluid:!0,loading:n,type:"submit",content:"Login",positive:!0})]})})),ke=Object(d.a)((function(){var e=J(),t=e.userStore,n=e.modalStore,a=t.isLoggedIn;return a?Object(W.jsx)(i.a,{to:"/dashboard"}):Object(W.jsx)(m.a,{vertical:!0,textAlign:"center",style:{display:"flex",height:"100vh",alignItems:"center",backgroundImage:"linear-gradient(to right bottom, rgb(41, 152, 255), rgb(86, 67, 250))"},children:Object(W.jsxs)(l.a,{children:[Object(W.jsxs)(b.a,{as:"h1",inverted:!0,style:{fontSize:"3.5em"},children:[Object(W.jsx)(be.a,{name:"warehouse",size:"large",style:{marginRight:"0.4em"}}),"Inventory Application"]}),Object(W.jsx)(b.a,{as:"h2",inverted:!0,content:"Welcome!",style:{fontSize:"2em"}}),a?Object(W.jsx)(r.Fragment,{children:Object(W.jsx)(h.a,{size:"big",inverted:!0,as:j.a,to:"/dashboard",content:"Go to Inventory"})}):Object(W.jsx)(r.Fragment,{children:Object(W.jsx)(h.a,{size:"big",inverted:!0,onClick:function(){return n.openModal(Object(W.jsx)(Ce,{}))},children:"Login"})})]})})})),Ie=n(145),Pe=n(239),Ae=n(144),Ne=n(143),Ue=Object(d.a)((function(){var e=J().userStore,t=e.isLoggedIn,n=e.logout,a=e.currentUser;return Object(W.jsx)(ye.a,{fixed:"top",inverted:!0,children:Object(W.jsxs)(l.a,{children:[Object(W.jsx)(Ie.a,{exact:!0,as:j.b,to:"/",content:"Home"}),Object(W.jsx)(Ie.a,{as:j.b,to:"/dashboard",content:"Inventory"}),"admin"===(null===a||void 0===a?void 0:a.role)&&Object(W.jsx)(Ie.a,{as:j.b,to:"/users",content:"Users"}),t&&Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(Ie.a,{as:j.b,to:"/cart",content:"My Cart",position:"right",icon:"cart"}),Object(W.jsx)(Ie.a,{children:Object(W.jsx)(Pe.a,{pointing:"top right",text:"Welcome, ".concat(null===a||void 0===a?void 0:a.displayName),children:Object(W.jsxs)(Ae.a,{children:[Object(W.jsx)(Ne.a,{icon:"user",text:"My Profile",as:j.a,to:"/profiles/".concat(null===a||void 0===a?void 0:a.username)}),Object(W.jsx)(Ne.a,{text:"Logout",onClick:n,icon:"sign-out"})]})})})]})]})})})),Me=Object(d.a)((function(){var e=J().userStore.register,t={username:"",displayName:"",email:"",password:""},n=Object(r.useState)(t),a=Object(u.a)(n,2),o=a[0],c=a[1];function i(e){c(Object(ce.a)(Object(ce.a)({},o),{},Object(oe.a)({},e.currentTarget.name,e.currentTarget.value)))}return Object(W.jsxs)(p.a,{onSubmit:function(){e(o),c(t)},style:{padding:"2em"},children:[Object(W.jsx)(b.a,{as:"h1",content:"Register New User"}),Object(W.jsx)(p.a.Input,{name:"email",value:o.email,label:"E-mail",onChange:i,required:!0}),Object(W.jsx)(p.a.Input,{name:"displayName",value:o.displayName,label:"Display Name",onChange:i,required:!0}),Object(W.jsx)(p.a.Input,{name:"username",value:o.username,label:"Username",onChange:i,required:!0}),Object(W.jsx)(p.a.Input,{name:"password",type:"password",value:o.password,label:"Password",onChange:i,required:!0}),Object(W.jsx)(h.a,{type:"submit",content:"Register",size:"large",color:"facebook",fluid:!0})]})})),Te=Object(d.a)((function(){var e=J(),t=e.userStore,n=e.modalStore,a=t.getAllUsers,o=t.userList,c=t.setPagingParams,i=t.pagination,s=t.loadingInitial,l=t.resetStore,d=t.searchString,g=t.setSearchString,x=Object(r.useState)(!1),v=Object(u.a)(x,2),y=v[0],S=v[1],w=Object(r.useState)(""),C=Object(u.a)(w,2),k=C[0],I=C[1];return Object(r.useEffect)((function(){l(),a()}),[a,l]),s&&!y?Object(W.jsx)(Z,{content:"Loading users..."}):Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(b.a,{as:"h1",content:"Users"}),Object(W.jsx)(h.a,{content:"Create new user",color:"facebook",size:"large",style:{marginBottom:"1em"},onClick:function(){return n.openModal(Object(W.jsx)(Me,{}))}}),""!==d&&Object(W.jsx)(h.a,{content:"Back to All",style:{marginBottom:"1em"},icon:"arrow circle left",color:"grey",size:"mini",onClick:function(){I(""),g("")}}),Object(W.jsxs)(O.a,{children:[Object(W.jsx)(O.a.Row,{children:Object(W.jsx)(O.a.Column,{width:16,children:Object(W.jsx)(p.a,{children:Object(W.jsxs)(p.a.Group,{children:[Object(W.jsx)(p.a.Input,{icon:"search",iconPosition:"left",placeholder:"Search by Name...",fluid:!0,value:k,onChange:function(e){I(e.currentTarget.value)},width:12}),Object(W.jsx)(p.a.Button,{content:"Search",fluid:!0,color:"facebook",size:"medium",onClick:function(){g(k)},width:4})]})})})}),Object(W.jsx)(f.a,{width:16,children:Object(W.jsx)(X.a,{pageStart:0,loadMore:function(){S(!0),c(new N(i.currentPage+1,i.itemsPerPage)),a().then((function(){return S(!1)}))},hasMore:!y&&!!i&&i.currentPage<i.totalPages,initialLoad:!1,children:Object(W.jsx)(m.a.Group,{children:o.map((function(e,t){return Object(W.jsxs)(m.a,{children:[Object(W.jsx)(b.a,{content:e.displayName,as:j.a,to:"/profiles/".concat(e.username)}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"E-mail: "}),e.email]}),Object(W.jsxs)("p",{children:[Object(W.jsx)("strong",{children:"Username: "}),e.username]}),Object(W.jsx)(h.a,{content:"Go to Profile",as:j.a,to:"/profiles/".concat(e.username),color:"facebook",size:"large",fluid:!0})]},t)}))})})}),Object(W.jsx)(f.a,{width:16,children:Object(W.jsx)(V.a,{active:y,size:"big",style:{marginTop:"1em"}})})]})]})})),ze=n(242),Ee=Object(d.a)((function(){var e=J().modalStore;return Object(W.jsx)(ze.a,{open:e.modal.open,onClose:e.closeModal,size:"mini",children:e.modal.body})})),Fe=n(175),De=["component"];function Re(e){var t=e.component,n=Object(Fe.a)(e,De),r=J().userStore.isLoggedIn;return Object(W.jsx)(i.b,Object(ce.a)(Object(ce.a)({},n),{},{render:function(e){return r?Object(W.jsx)(t,Object(ce.a)({},e)):Object(W.jsx)(i.a,{to:"/"})}}))}var Le=function(){var e=J().userStore.getCurrentUser;return Object(r.useEffect)((function(){localStorage.getItem("inventoryToken")&&e()}),[e]),Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(s.b,{position:"bottom-right",theme:"colored",transition:s.a}),Object(W.jsx)(Ee,{}),Object(W.jsx)(i.b,{exact:!0,path:"/",component:ke}),Object(W.jsx)(i.b,{path:"/(.+)",render:function(){return Object(W.jsxs)(r.Fragment,{children:[Object(W.jsx)(Ue,{}),Object(W.jsx)(l.a,{style:{marginTop:"7rem"},children:Object(W.jsxs)(i.d,{children:[Object(W.jsx)(Re,{exact:!0,path:"/dashboard",component:se}),Object(W.jsx)(Re,{path:"/items/:id",component:me}),Object(W.jsx)(Re,{path:"/cart",component:Q}),Object(W.jsx)(Re,{path:"/profiles/:username",component:we}),Object(W.jsx)(Re,{path:"/orders/:orderId",component:fe}),Object(W.jsx)(Re,{path:"/users",component:Te})]})})]})}})]})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,251)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},Be=n(29);function Ge(){var e=Object(i.g)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var He=Object(Be.a)();c.a.render(Object(W.jsx)(H.Provider,{value:G,children:Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsxs)(i.c,{history:He,children:[Object(W.jsx)(Ge,{}),Object(W.jsx)(Le,{})]})})}),document.getElementById("root")),qe()}},[[223,1,2]]]);
//# sourceMappingURL=main.426d848c.chunk.js.map